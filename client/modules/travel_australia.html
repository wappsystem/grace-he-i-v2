<section>
      VmInclude:__CURRENT_PATH__/grid/grid.v3.html
</section>
<script>
    function F__ID(){
        //-------------------------------------
        _fields="_Form,Applicant ID|applicant_uid,Applicant|applicant"
        _fields+=",<b>Have you ever travelled to Australia </b>|Travelled,Date of arrival|Date_of_Arrival,Date of Departure|Date_of_departure";
        _fields+=",Visa subclass|Visa_subclass,Visa issuing authority|Visa_issuing_authority,Name on the visa|Visa_name,Purpose of travelling|Purpose"
        _fields+=",Submit Date|DateTime,Submitted by|Author,_Delete";
        //-------------------------------------
        VmInclude:__COMPONENT__/grid/grid.v3.js
        VmInclude:__COMPONENT__/style/ease-in-out.2.js
        VmInclude:__BASE__/wappsystem/grace-he-i/Modules/Control_panels/client_sub.js
        //-------------------------------------
        var applicant_tid=$vm.module_list[_app_id+'client'].var.client_tid;
        //-------------------------------------
        $('#D__ID').on('load',function(){ _set_req(); _request_data();  })
        //-------------------------------------
        _cell_render=function(records,I,field,td,set_value,source){
            switch(field){
                case 'applicant':
                case 'applicant_uid':
                case 'Travelled':
                    records[I].vm_readonly[field]=true;
                    td.css('color','#888');
                    break;
                case 'Date_of_Arrival':
                case 'Date_of_departure':
                    VmInclude:__COMPONENT__/grid/field_date.js
                    break;
            }
        }
        //-------------------------------------
        _before_submit=function(record,dbv){
            dbv.PPID=applicant_tid;
            if(record.applicant_uid!==undefined) dbv.PUID=record.applicant_uid;
            return true;
        };
        //-------------------------------------
    }
</script>
<style>
    VmInclude:__COMPONENT__/grid/grid.v3.css
    #D__ID{
        overflow-x:auto;
        /*white-space: nowrap;*/
    }
</style>
